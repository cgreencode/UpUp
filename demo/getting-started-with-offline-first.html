<html>
<head>
  <meta charset="UTF-8">
  <title>Getting Started with UpUp - The Offline First Library</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/online.css">
  <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/github.min.css">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script>
    $(window).on("scroll resize", function(){
      var postop = $('#phone-demo').offset().top;
      if (postop > $('#step-4').offset().top) {
        $(".phone-contents").attr("src", $('#step-4').data('phoneImage'));
      } else if (postop > $('#step-3').offset().top) {
        $(".phone-contents").attr("src", $('#step-3').data('phoneImage'));
      } else if (postop > $('#step-2').offset().top) {
        $(".phone-contents").attr("src", $('#step-2').data('phoneImage'));
      } else if (postop > $('#step-1').offset().top-50) {
        $(".phone-contents").attr("src", $('#step-1').data('phoneImage'));
      } else if (postop > $('#step-0').offset().top) {
        $(".phone-contents").attr("src", $('#step-0').data('phoneImage'));
      } else {
        $(".phone-contents").attr("src", 'img/phone-dark.png');
      }
    });
  </script>
</head>
<body>
  <header class="shortHeader">
    <h2 class="center-block">Getting Started with Offline First using</h2>
    <img class="img-responsive center-block" src="img/logo.png" alt="upup">
  </header>
  <div class="container">
    <div class="row high">
      <div class="col-md-9">
        <h3>It's time to start thinking offline-first</h3>
        <p>Mobile-First has become the de-facto standard for building modern sites. But in a world where everyone is mobile, an always-on connection isn't something we can rely on. It's time to start thinking offline-first.</p>
        <p>This tutorial will show you how to add offline functionality to your site in under 10 minutes. When you're done, your visitors will no longer be greeted with an error screen when they visit your site with no connection... Instead you'll be able to control the content and experience they get.</p>
        <h3 id="step-0" data-phone-image="img/phone-lonely-online.png">Let's get started</h3>
        <p>We'll start with a simple site, and add the offline features to it:</p>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Lonely Globe Advisor<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Top Hotels in Rome<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">ol</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>Villa Domus - Via Piacenza 9, Rome, Italy<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>Hotel Trivelli - Piazza Barberini 11, Rome, Italy<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">ol</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre>
        <p id="step-1" data-phone-image="img/phone-lonely-offline.png">Our sample site, Lonely Globe Advisor, offers visitors a list of the top hotels in Rome, with user ratings and an address.</p>
        <p>But what happens if our user just landed in Rome and doesn't have a local data plan?</p>
        <p>Well, he'll be out of luck.</p>
        <h3>Adding Basic Offline Content</h3>
        <p>We can control the experience our users get when they are offline with 2 simple steps:</p>
        <ol>
          <li>Include the UpUp script in our page.</li>
          <li>Define the content we'd like the user to see when he is offline.</li>
        </ol>
<pre id="step-2" data-phone-image="img/phone-lonely-upup-1.png"><code class="html hljs xml"><span class="comment">&lt;html&gt;</span>
<span class="comment">&lt;head&gt;</span>
  <span class="comment">&lt;meta charset="UTF-8"&gt;</span>
  <span class="comment">&lt;title&gt;Lonely Globe Advisor&lt;/title&gt;</span>
<span class="comment">&lt;/head&gt;</span>
<span class="comment">&lt;body&gt;</span>
  <span class="comment">&lt;h1&gt;Top Hotels in Rome&lt;/h1&gt;</span>
  <span class="comment">&lt;ol&gt;</span>
    <span class="comment">&lt;li&gt;Villa Domus - Via Piacenza 9, Rome, Italy&lt;/li&gt;</span>
    <span class="comment">&lt;li&gt;Hotel Trivelli - Piazza Barberini 11, Rome, Italy&lt;/li&gt;</span>
  <span class="comment">&lt;/<span class="comment">ol</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"upup.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="xml">
    UpUp.start({
      'content': '<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Top Hotels in Rome<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Villa Domus<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Hotel Trivelli<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>'
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="comment">&lt;/body&gt;</span>
<span class="comment">&lt;/html&gt;</span></code></pre>
        <p>In the code above we simply told UpUp to display some simple HTML the next time a user can't access our site.</p>
        <p>With just this tiny bit of code, we've added an offline experience for our site, and allowed our users to see the best hotels in Rome&hellip; even when they can't access the web.</p>
        <p>Make sure to place a copy of both <code>upup.min.js</code> and <code>upup.sw.min.js</code> in the directory that you specified in the script tag. This should idealy be in the root of your site (e.g. https://www.talater.com/upup.min.js).</p>
        <h3>Creating a rich offline experience</h3>
        <p>While this is already quite impressive, it still doesn't look anything like our online version. Let's improve the offline version with more content, design and images.</p>
        <p>We'll begin by moving our offline content to a separate file. This will make it much easier to update and maintain, and we'll no longer have to include the entire content of the offline site on every page.</p>
<pre><code class="html hljs xml"><span class="comment">&lt;html&gt;</span>
<span class="comment">&lt;head&gt;</span>
  <span class="comment">&lt;meta charset="UTF-8"&gt;</span>
  <span class="comment">&lt;title&gt;Lonely Globe Advisor&lt;/title&gt;</span>
<span class="comment">&lt;/head&gt;</span>
<span class="comment">&lt;body&gt;</span>
  <span class="comment">&lt;h1&gt;Top Hotels in Rome&lt;/h1&gt;</span>
  <span class="comment">&lt;ol&gt;</span>
    <span class="comment">&lt;li&gt;Villa Domus - Via Piacenza 9, Rome, Italy&lt;/li&gt;</span>
    <span class="comment">&lt;li&gt;Hotel Trivelli - Piazza Barberini 11, Rome, Italy&lt;/li&gt;</span>
  <span class="comment">&lt;/<span class="comment">ol</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"upup.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="bash">
    UpUp.start({
      <span class="hljs-string">'content-url'</span>: <span class="hljs-string">'offline.html'</span>
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="comment">&lt;/body&gt;</span>
<span class="comment">&lt;/html&gt;</span></code></pre>
        <p>Now the content our users see when they are offline, is the contents of <code>offline.html</code>. This is just a simple HTML file, no different than any other page on our site.</p>
        <p id="step-3" data-phone-image="img/phone-lonely-upup-2.png">Our <code>offline.html</code> file contains two link tags which load in <code>bootstrap.min.css</code> and a custom <code>offline.css</code>. Let's make sure these are cached and available to the user when they are offline:</p>
<pre><code class="html hljs xml"><span class="comment">&lt;html&gt;</span>
<span class="comment">&lt;head&gt;</span>
  <span class="comment">&lt;meta charset="UTF-8"&gt;</span>
  <span class="comment">&lt;title&gt;Lonely Globe Advisor&lt;/title&gt;</span>
<span class="comment">&lt;/head&gt;</span>
<span class="comment">&lt;body&gt;</span>
  <span class="comment">&lt;h1&gt;Top Hotels in Rome&lt;/h1&gt;</span>
  <span class="comment">&lt;ol&gt;</span>
    <span class="comment">&lt;li&gt;Villa Domus - Via Piacenza 9, Rome, Italy&lt;/li&gt;</span>
    <span class="comment">&lt;li&gt;Hotel Trivelli - Piazza Barberini 11, Rome, Italy&lt;/li&gt;</span>
  <span class="comment">&lt;/<span class="comment">ol</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"upup.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="bash">
    UpUp.start({
      <span class="hljs-string">'content-url'</span>: <span class="hljs-string">'offline.html'</span>,
      <span class="hljs-string">'assets'</span>: [<span class="hljs-string">'css/bootstrap.min.css'</span>, <span class="hljs-string">'css/offline.css'</span>]
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="comment">&lt;/body&gt;</span>
<span class="comment">&lt;/html&gt;</span></code></pre>
        <h3>Getting fancy</h3>
        <p id="step-4" data-phone-image="img/phone-calendar-upup.png">With just one command and two settings, we can create rich offline experiences for our users. These can be as simple as the examples above, or as robust as a full single page application using frameworks like AngularJS, with customized content for each user, videos and even files the user can access while offline.</p>
<pre><code class="hljs xml"><span class="html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"</span></span><strong><span class="hljs-tag"><span class="hljs-value">upup.min.js</span></span></strong><span class="hljs-tag"><span class="hljs-value">"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span></span><span class="cs">
  UpUp.start({
    <span class="hljs-string">'</span></span><strong><span class="cs"><span class="hljs-string">content-url</span></span></strong><span class="cs"><span class="hljs-string">'</span>: <span class="hljs-string">'</span></span><strong><span class="cs"><span class="hljs-string">schedule.html?user=jane007</span></span></strong><span class="cs"><span class="hljs-string">'</span>, </span><span class="comment"><span class="cs"><span class="comment">// show this when the user is offline</span></span></span><span class="cs">
    <span class="hljs-string">'</span></span><strong><span class="cs"><span class="hljs-string">assets</span></span></strong><span class="cs"><span class="hljs-string">'</span>: [ </span><span class="comment"><span class="cs">               <span class="comment">// define additional assets needed while offline</span></span></span><span class="cs">
      <span class="hljs-string">'</span></span><strong><span class="cs"><span class="hljs-string">img/logo.png</span></span></strong><span class="cs"><span class="hljs-string">'</span>, </span><span class="comment"><span class="cs">         <span class="comment">// such as images,</span></span></span><span class="cs">
      <span class="hljs-string">'</span></span><strong><span class="cs"><span class="hljs-string">css/offline.css</span></span></strong><span class="cs"><span class="hljs-string">'</span>, </span><span class="comment"><span class="cs">      <span class="comment">// custom stylesheets,</span></span></span><span class="cs">
      <span class="hljs-string">'</span></span><strong><span class="cs"><span class="hljs-string">schedule.jane007.json</span></span></strong><span class="cs"><span class="hljs-string">'</span>, </span><span class="comment"><span class="cs"><span class="comment">// personalized data for the current user,</span></span></span><span class="cs">
      <span class="hljs-string">'</span></span><strong><span class="cs"><span class="hljs-string">js/angular.min.js</span></span></strong><span class="cs"><span class="hljs-string">'</span>, </span><span class="comment"><span class="cs">    <span class="comment">// javascript libraries and frameworks,</span></span></span><span class="cs">
      <span class="hljs-string">'</span></span><strong><span class="cs"><span class="hljs-string">mov/intro.mp4</span></span></strong><span class="cs"><span class="hljs-string">'</span>, </span><span class="comment"><span class="cs">        <span class="comment">// videos,</span></span></span><span class="cs">
      <span class="hljs-string">'</span></span><strong><span class="cs"><span class="hljs-string">contacts.pdf</span></span></strong><span class="cs"><span class="hljs-string">'</span> </span><span class="comment"><span class="cs">          <span class="comment">// and more.</span></span></span><span class="cs">
    ]
  });
</span><span class="html"><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></span></code></pre>
        <h3>Important Considerations and Requirements</h3>
        <p>There are a number of things to consider when using UpUp. Many of these are requirements of Service Workers, the technology at the heart of UpUp.</p>
        <h4>Browser Support</h4>
        <p>UpUp plays nicely with all browsers, progressively enhancing browsers that support Service Workers, while leaving users with older browsers unaffected.</p>
        <p>UpUp currently supports Chrome 40+, Opera 27+ and is coming soon to Firefox. If your users are using a different browser, they simply won't notice anything different.</p>
        <h4>HTTPS Only</h4>
        <p>During development you can use UpUp through localhost or file (e.g. both http://localhost/ and file:///Users/tal/index.html are ok), but to deploy it to production you'll need to have HTTPS setup on your server.</p>
        <p>This is a requirement for many new web technologies, and SSL certificates go for as little as $5, so don't let that stop you&hellip; progress is coming.</p>
        <h4>Scope</h4>
        <p>UpUp can serve offline content for any request within its scope. The scope is determined by where you placed the upup.min.js and upup.sw.min.js files.</p>
        <p>This means that if you placed the files in your /js/ directory, UpUp will only be able to show your offline content when users try to look at the /js/ directory. This is why you should always place the script as close to the root of your site as possible (e.g. http://www.talater.com/upup.min.js).</p>
      </div>
    </div>
  </div>

  <div id="phone-demo">
    <img src="img/iphone.png">
    <img class="phone-contents" src="img/phone-dark.png">
  </div>

  <div class="container footer text-center">
    <div class="col-md-9">
      <hr>
      <div class="row">
        <p>&copy; 2015 Tal Ater. All rights reserved. The <a href="https://github.com/TalAter/UpUp">UpUp source code</a> is free to use under the <a href="https://github.com/TalAter/UpUp/blob/master/LICENSE">MIT license</a>.</p>
        <p>Sunset image used with permission from <a href="https://500px.com/ido_greiman">Ido Greiman</a>.</p>
      </div>
    </div>
  </div>
  <!-- This is our simple implementation of UpUp for this site -->
  <script src="upup.min.js"></script>
  <script>
    // Let's turn on debugging messages
    UpUp.debug();

    // Let's start UpUp with some basic settings
    UpUp.start({
      'content-url': 'offline.html',
      'assets': ['css/offline.css', 'css/bootstrap.min.css', 'img/mb-offline.png', 'img/logo.png', 'img/sunset.jpg']
    });
  </script>
</body>
</html>
